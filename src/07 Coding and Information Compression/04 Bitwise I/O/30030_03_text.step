{"time": "2016-09-20T21:00:25.286798", "block": {"name": "text", "subtitles": {}, "source": null, "subtitle_files": [], "feedback_wrong": "", "video": null, "animation": null, "feedback_correct": "", "tests_archive": null, "text": "<p>We've seen a workflow for writing\u00a0<i>bytes</i> to disk (as well as for reading bytes from disk), but we want to be able to read/write\u00a0<i>bits</i>. It turns out that we can use the same idea with a small layer on top to achieve this: we can build our own\u00a0<i>bitwise</i> buffer that connects with the existing\u00a0<i>bytewise</i> buffer. We will design our bitwise buffer to be 1 byte (i.e., 8 bits).</p><p>The basic workflow for writing <i>bits</i> to disk is as follows:</p><p></p><ul><li>Write bits to bitwise buffer, one bit at a time</li><li>Once the bitwise buffer is full, write the bitwise buffer (which is 1 byte) to the bytewise buffer and clear the bitwise buffer (i.e., \"flush\" the bitwise buffer)</li><li>Repeat until the bytewise buffer is full</li><li>Once the bytewise buffer is full, write the entire bytewise buffer to disk and clear the bytewise buffer (i.e., \"flush\" the bytewise buffer)</li><li>Repeat from the beginning</li></ul><p>Below is a typical workflow of <b>writing</b> some <i>bitwise</i> data from <b><span class=\"wysiwyg-color-green\">memory</span></b> to <b><span class=\"wysiwyg-color-red\">disk</span></b>:</p><p><span class=\"image-wrapper\"><img src=\"https://ucarecdn.com/af803d33-f874-4a4e-a127-1b90f182e3e2/\" alt=\"\" title=\"Image: https://ucarecdn.com/af803d33-f874-4a4e-a127-1b90f182e3e2/\"></span></p><p>Similarly, the basic workflow for reading\u00a0<i>bits</i> from disk is as follows:</p><p></p><ul><li>Read enough bytes from disk to fill the entire bytewise buffer (i.e., \"fill\" the bytewise buffer)<br></li><li>Read 1 byte from the bytewise buffer to fill the bitwise buffer (i.e., \"fill\" the bitwise buffer)</li><li>Read bits from bitwise buffer, one bit at a time</li><li>Once the bitwise buffer is empty, read another byte from the bytewise buffer to fill the bitwise buffer, repeat (i.e., \"fill the bitwise buffer)</li><li>Once the bytewise buffer is empty, repeat from the beginning (i.e., \"fill\" the bytewise buffer)</li></ul><p></p><p>Below is a typical workflow of\u00a0<b>reading</b> some\u00a0<i>bitwise</i> data from <b><span class=\"wysiwyg-color-red\">disk</span></b> to\u00a0<b><span class=\"wysiwyg-color-green\">memory</span></b>:</p><p><span class=\"image-wrapper\"><img src=\"https://ucarecdn.com/4c6f8f56-1309-4995-8f5a-8f706c65112d/\" alt=\"\" title=\"Image: https://ucarecdn.com/4c6f8f56-1309-4995-8f5a-8f706c65112d/\"></span></p>", "options": {}}, "id": "122870"}